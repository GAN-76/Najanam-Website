let map;let marker;let infoWindow;let directionsService;let directionsRenderer;const najanamLocation={lat: 46.758202,lng: 7.628202};function initMap(){map=new google.maps.Map(document.getElementById("map"),{center: najanamLocation,zoom: 15,mapTypeControl: true,streetViewControl: true,fullscreenControl: true,styles: [{featureType: "poi",elementType: "labels",stylers: [{visibility: "on"}]}]});marker=new google.maps.Marker({position: najanamLocation,map: map,title: "NAJANAM-Tamilisches Modegesch√§ft",animation: google.maps.Animation.DROP,icon:{url: "https: scaledSize: new google.maps.Size(50,50)}});const contentString=`<div style="padding: 10px;max-width: 300px;"><h3 style="margin: 0 0 10px 0;color: #8B4513;font-family: 'Playfair Display',serif;">NAJANAM</h3><p style="margin: 5px 0;font-size: 14px;"><strong>Adresse:</strong><br>Schulstrasse 18<br>3604 Thun,Schweiz</p><p style="margin: 5px 0;font-size: 14px;"><strong>Telefon:</strong><br><a href="tel:+41782287019">078 228 70 19</a></p><p style="margin: 5px 0;font-size: 14px;"><strong>√ñffnungszeiten:</strong><br>Di-Fr: 14:00 ‚Äì 18:00</p><p style="margin: 10px 0 0 0;"><a href="https: target="_blank" style="color: #8B4513;text-decoration: none;font-weight: bold;">üìç Route in Google Maps √∂ffnen</a></p></div>`;infoWindow=new google.maps.InfoWindow({content: contentString});marker.addListener("click",()=>{infoWindow.open(map,marker);});infoWindow.open(map,marker);directionsService=new google.maps.DirectionsService();directionsRenderer=new google.maps.DirectionsRenderer({map: map,suppressMarkers: false,polylineOptions:{strokeColor: "#8B4513",strokeWeight: 5}});const directionsButton=document.getElementById("getDirections");if(directionsButton){directionsButton.addEventListener("click",calculateRoute);}}function calculateRoute(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition((position)=>{const userLocation={lat: position.coords.latitude,lng: position.coords.longitude};const request={origin: userLocation,destination: najanamLocation,travelMode: google.maps.TravelMode.DRIVING};directionsService.route(request,(result,status)=>{if(status==="OK"){directionsRenderer.setDirections(result);const route=result.routes[0].legs[0];const distance=route.distance.text;const duration=route.duration.text;const routeInfo=`<div style="padding: 10px;max-width: 300px;"><h3 style="margin: 0 0 10px 0;color: #8B4513;">Route zu NAJANAM</h3><p style="margin: 5px 0;"><strong>Entfernung:</strong>${distance}</p><p style="margin: 5px 0;"><strong>Fahrzeit:</strong>${duration}</p><p style="margin: 10px 0 0 0;font-size: 12px;color: #666;">Die Route wird auf der Karte angezeigt.</p></div>`;infoWindow.setContent(routeInfo);infoWindow.open(map,marker);}else{alert("Route konnte nicht berechnet werden: "+status);}});},()=>{handleLocationError(true);});}else{handleLocationError(false);}}function handleLocationError(browserHasGeolocation){const errorMessage=browserHasGeolocation ? "Fehler: Der Geolocation-Service konnte Ihren Standort nicht ermitteln. Bitte erlauben Sie den Standortzugriff in Ihren Browser-Einstellungen." : "Fehler: Ihr Browser unterst√ºtzt keine Geolocation.";alert(errorMessage+"\n\nSie k√∂nnen die Route auch direkt in Google Maps √∂ffnen,indem Sie auf den Marker klicken.");}window.addEventListener('resize',()=>{if(map){map.setCenter(najanamLocation);}});